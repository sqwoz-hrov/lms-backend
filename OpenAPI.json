{"openapi":"3.0.0","paths":{"/feedback":{"post":{"operationId":"CreateFeedbackController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFeedbackDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseFeedbackDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает фидбек","tags":["Feedback"]},"put":{"operationId":"EditFeedbackController_edit","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFeedbackDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Меняет фидбек","tags":["Feedback"]},"get":{"operationId":"GetAllFeedbackController_get","parameters":[{"name":"interview_id","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BaseFeedbackDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список фидбека","tags":["Feedback"]}},"/feedback/{id}":{"get":{"operationId":"GetFeedbackInfoController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseFeedbackDto"}}}}},"security":[{"bearer":[]}],"summary":"Получает информацию о конкретном фидбеке","tags":["Feedback"]}},"/interviews":{"post":{"operationId":"CreateInterviewController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInterviewDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InterviewResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает интервью","tags":["Interviews"]},"delete":{"operationId":"DeleteInterviewController_delete","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteInterviewDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InterviewResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Удаляет интервью","tags":["Interviews"]},"put":{"operationId":"EditInterviewController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateInterviewDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InterviewResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Редактирует интервью","tags":["Interviews"]},"get":{"operationId":"GetInterviewsController_get","parameters":[{"name":"hr_connection_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"type","required":false,"in":"query","schema":{"type":"string","enum":["screening","technical_interview","final","other"]}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InterviewResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список интервью","tags":["Interviews"]}},"/hr-connections":{"post":{"operationId":"CreateHrConnectionController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHrConnectionDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseHrConnectionDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает контакт с HR","tags":["HR Connections"]},"delete":{"operationId":"DeleteHrConnectionController_delete","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteHrConnectionDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseHrConnectionDto"}}}}},"security":[{"bearer":[]}],"summary":"Удаляет контакт с HR","tags":["HR Connections"]},"put":{"operationId":"EditHrConnectionController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHrConnectionDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseHrConnectionDto"}}}}},"security":[{"bearer":[]}],"summary":"Редактирует контакт с HR","tags":["HR Connections"]},"get":{"operationId":"GetHrConnectionsController_get","parameters":[{"name":"student_user_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["waiting_us","waiting_hr","rejected","offer"]}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BaseHrConnectionDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список контактов с HR","tags":["HR Connections"]}},"/journal-records":{"post":{"operationId":"CreateJournalRecordController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateJournalRecordDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseJournalRecordDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает запись журнала","tags":["Journal Records"]},"put":{"operationId":"EditJournalRecordController_edit","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateJournalRecordDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseJournalRecordDto"}}}}},"security":[{"bearer":[]}],"summary":"Редактирует запись журнала","tags":["Journal Records"]},"delete":{"operationId":"DeleteJournalRecordController_delete","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteJournalRecordDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseJournalRecordDto"}}}}},"security":[{"bearer":[]}],"summary":"Удаляет запись журнала","tags":["Journal Records"]},"get":{"operationId":"GetJournalRecordsController_get","parameters":[{"name":"student_user_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"markdown_content_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BaseJournalRecordDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список записей журнала","tags":["Journal Records"]}},"/journal-records/{id}":{"get":{"operationId":"GetJournalRecordInfoController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseJournalRecordDto"}}}}},"security":[{"bearer":[]}],"summary":"Возвращает одну запись журнала","tags":["Journal Records"]}},"/materials/archive":{"put":{"operationId":"ArchiveMaterialController_archive","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArchiveMaterialDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Архивирует или разархивирует учебный материал","tags":["Materials"]}},"/materials":{"post":{"operationId":"CreateMaterialController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMaterialDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает учебный материал","tags":["Materials"]},"put":{"operationId":"EditMaterialController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMaterialDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Обновляет учебный материал","tags":["Materials"]},"get":{"operationId":"GetMaterialsController_get","parameters":[{"name":"student_user_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"subject_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"is_archived","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MaterialResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список учебных материалов","tags":["Materials"]}},"/materials/{id}/open-for-tiers":{"post":{"operationId":"OpenMaterialForTiersController_open","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenMaterialForTiersDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Открывает доступ к учебному материалу для подписочных уровней","tags":["Materials"]}},"/metrics":{"get":{"operationId":"MetricsController_getMetrics","parameters":[],"responses":{"200":{"description":""},"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}}},"tags":["Metrics"]}},"/subjects":{"post":{"operationId":"CreateSubjectController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSubjectDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает предмет","tags":["Subjects"]},"put":{"operationId":"EditSubjectController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSubjectDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Редактирует предмет","tags":["Subjects"]},"get":{"operationId":"GetSubjectsController_get","parameters":[],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubjectResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список предметов","tags":["Subjects"]}},"/subjects/{id}/open-for-tiers":{"post":{"operationId":"OpenSubjectForTiersController_open","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenSubjectForTiersDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Открывает доступ к предмету для подписочных уровней","tags":["Subjects"]}},"/tasks/change-status":{"put":{"operationId":"ChangeTaskStatusController_changeStatus","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeTaskStatusDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Обновляет статус задачи","tags":["Tasks"]}},"/tasks/create-for-multiple-students":{"post":{"operationId":"CreateTaskForMultipleStudentsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskForMultipleUsersDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Создает задачи для нескольких студентов","tags":["Tasks"]}},"/tasks":{"post":{"operationId":"CreateTaskController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает задачу","tags":["Tasks"]},"delete":{"operationId":"DeleteTaskController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteTaskDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Удаляет задачу","tags":["Tasks"]},"put":{"operationId":"EditTaskController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTaskDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Редактирует задачу","tags":["Tasks"]},"get":{"operationId":"GetTasksController_get","parameters":[{"name":"student_user_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"mentor_user_id","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список задач","tags":["Tasks"]}},"/tasks/{id}":{"get":{"operationId":"GetTaskInfoController_get","parameters":[{"name":"id","required":true,"in":"path","description":"ID задачи","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Получает информацию о задаче","tags":["Tasks"]}},"/webhooks/telegram":{"post":{"description":"Обработка вебхука от Telegram","operationId":"TelegramWebhookController_handleUpdate","parameters":[],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа"}},"security":[{"bearer":[]}],"summary":"Обработка вебхука от Telegram","tags":["Webhooks"]}},"/subscription-tiers":{"post":{"operationId":"CreateSubscriptionTierController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSubscriptionTierDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionTierResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Создает тариф подписки","tags":["Subscription Tiers"]},"delete":{"operationId":"DeleteSubscriptionTierController_delete","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteSubscriptionTierDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionTierResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Удаляет тариф подписки","tags":["Subscription Tiers"]},"get":{"operationId":"GetSubscriptionTiersController_get","parameters":[],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionTierResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Возвращает список тарифов подписки","tags":["Subscription Tiers"]}},"/subscriptions/gift":{"post":{"description":"Администратор выдаёт пользователю подарочную подписку","operationId":"GiftSubscriptionController_gift","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftSubscriptionDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Подарить подписку пользователю","tags":["Subscriptions"]}},"/webhooks/yookassa":{"post":{"operationId":"HandleYookassaWebhookController_handle","parameters":[],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа"}},"security":[{"bearer":[]}],"summary":"Обработка вебхука от YooKassa","tags":["Webhooks"]}},"/payments/forms":{"post":{"description":"Генерирует платёжную форму YooKassa для выбранного тарифа подписки","operationId":"CreatePaymentFormController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePaymentFormDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentFormResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Создать форму оплаты подписки","tags":["Payments"]}},"/users/login":{"post":{"description":"Идемпотентная, можно хоть 20 раз нажать","operationId":"AskForLoginController_execute","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AskLoginDto"}}}},"responses":{"404":{"description":"Пользователя с такой почтой не нашлось","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Пользователя с такой почтой не нашлось :( Проверьте почту или напишите нам"]}}}}}},"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AskLoginResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Начинает процедуру логина, отправляя OTP на указанную почту","tags":["Users"]}},"/users/login/finish":{"post":{"description":"Завершение логина (установка HttpOnly cookies)","operationId":"FinishLoginController_execute","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinishLoginDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Завершение логина","tags":["Users"]}},"/users/signup/finish":{"post":{"description":"Проверяет OTP и помечает регистрацию как завершенную","operationId":"FinishRegistrationController_execute","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinishRegistrationDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Завершение регистрации","tags":["Users"]}},"/users/get-me":{"get":{"operationId":"GetMeController_get","parameters":[],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Получает текущего пользователя","tags":["Users"]}},"/users/{id}":{"get":{"operationId":"GetUserController_get","parameters":[{"name":"id","required":true,"in":"path","description":"ID пользователя","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Получает пользователя по ID","tags":["Users"]}},"/users":{"get":{"operationId":"GetUsersController_get","parameters":[],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Получает список пользователей","tags":["Users"]}},"/users/logout":{"post":{"description":"Инвалидация refresh-токенов и очистка HttpOnly cookies","operationId":"LogoutController_handle","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Выход из системы","tags":["Users"]}},"/users/refresh":{"post":{"description":"Ротация refresh, выдача новой пары и установка HttpOnly cookies","operationId":"RefreshTokensController_handle","parameters":[],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Обновление JWT по refresh","tags":["Users"]}},"/users/admin-signup":{"post":{"description":"Регистрация пользователя администратором","operationId":"AdminSignupController_signup","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Регистрация пользователя администратором","tags":["Users"]}},"/users/signup":{"post":{"description":"Регистрация нового подписчика","operationId":"SignupController_signup","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicSignupDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Регистрация подписчика","tags":["Users"]}},"/users/send-otp":{"post":{"description":"Создает новый OTP и отправляет его в Telegram, если для пользователя привязан Telegram ID","operationId":"SendOtpController_execute","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendOtpDto"}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendOtpResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Отправляет OTP","tags":["Users"]}},"/videos/{id}":{"get":{"operationId":"GetVideoController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Получает список контактов с HR","tags":["Videos"]}},"/videos":{"post":{"operationId":"UploadVideoController_create","parameters":[{"name":"upload-session-id","required":true,"in":"header","schema":{"type":"string"}},{"name":"content-range","required":true,"in":"header","schema":{"type":"string"}},{"name":"upload-chunk-size","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"Файл для загрузки"}},"required":["file"]}}}},"responses":{"500":{"description":"Что-то пошло не так на нашей стороне :(","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение об ошибке","enum":["Что-то пошло не так на нашей стороне :("]}}}}}},"default":{"description":"Тело ответа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Загружает видео (resumable, chunked, compressed)","tags":["Videos"]}}},"info":{"title":"Sqwoz Hrov LMS","description":"Документация API ЛМС Sqwoz Hrov","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3000/"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateFeedbackDto":{"type":"object","properties":{"interview_id":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["interview_id","markdown_content"]},"BaseFeedbackDto":{"type":"object","properties":{"id":{"type":"string"},"interview_id":{"type":"string"},"markdown_content_id":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["id","interview_id","markdown_content_id","markdown_content"]},"UpdateFeedbackDto":{"type":"object","properties":{"id":{"type":"string"},"interview_id":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["id"]},"FeedbackResponseDto":{"type":"object","properties":{"id":{"type":"string"},"interview_id":{"type":"string"},"markdown_content_id":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["id","interview_id","markdown_content_id","markdown_content"]},"CreateInterviewDto":{"type":"object","properties":{"hr_connection_id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["screening","technical_interview","final","other"]},"video_id":{"type":"object"}},"required":["hr_connection_id","name","type","video_id"]},"InterviewResponseDto":{"type":"object","properties":{"id":{"type":"string"},"hr_connection_id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["screening","technical_interview","final","other"]},"video_id":{"type":"object"},"created_at":{"format":"date-time","type":"string"}},"required":["id","hr_connection_id","name","type","video_id","created_at"]},"DeleteInterviewDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"UpdateInterviewDto":{"type":"object","properties":{"id":{"type":"string"},"hr_connection_id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["screening","technical_interview","final","other"]},"video_id":{"type":"object"}},"required":["id"]},"CreateHrConnectionDto":{"type":"object","properties":{"student_user_id":{"type":"string"},"name":{"type":"string"},"status":{"type":"string","enum":["waiting_us","waiting_hr","rejected","offer"]},"chat_link":{"type":"string"}},"required":["student_user_id","name","status","chat_link"]},"BaseHrConnectionDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"name":{"type":"string"},"status":{"type":"string","enum":["waiting_us","waiting_hr","rejected","offer"]},"created_at":{"format":"date-time","type":"string"},"chat_link":{"type":"string"}},"required":["id","student_user_id","name","status","created_at","chat_link"]},"DeleteHrConnectionDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"UpdateHrConnectionDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"name":{"type":"string"},"status":{"type":"string","enum":["waiting_us","waiting_hr","rejected","offer"]},"chat_link":{"type":"string"}},"required":["id"]},"CreateJournalRecordDto":{"type":"object","properties":{"student_user_id":{"type":"string"},"name":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["student_user_id","name","markdown_content"]},"BaseJournalRecordDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"name":{"type":"string"},"created_at":{"format":"date-time","type":"string"},"markdown_content_id":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["id","student_user_id","name","created_at","markdown_content_id","markdown_content"]},"UpdateJournalRecordDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"name":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["id"]},"DeleteJournalRecordDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"ArchiveMaterialDto":{"type":"object","properties":{"id":{"type":"string"},"is_archived":{"type":"boolean"}},"required":["id","is_archived"]},"MaterialResponseDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"subject_id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["article","video","other"]},"video_id":{"type":"string"},"markdown_content_id":{"type":"object"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"},"is_archived":{"type":"boolean"}},"required":["id","subject_id","name","type","is_archived"]},"CreateMaterialDto":{"type":"object","properties":{"student_user_id":{"type":"string"},"subject_id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["article","video","other"]},"video_id":{"type":"string"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"}},"required":["subject_id","name","type"]},"UpdateMaterialDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"subject_id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["article","video","other"]},"video_id":{"type":"string"},"markdown_content_id":{"type":"object"},"markdown_content":{"type":"string","description":"Resolved markdown content as text"},"is_archived":{"type":"boolean"}}},"OpenMaterialForTiersDto":{"type":"object","properties":{"tier_ids":{"type":"array","items":{"type":"string"}}},"required":["tier_ids"]},"CreateSubjectDto":{"type":"object","properties":{"name":{"type":"string"},"color_code":{"type":"string"}},"required":["name","color_code"]},"SubjectResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"color_code":{"type":"string"}},"required":["id","name","color_code"]},"UpdateSubjectDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"color_code":{"type":"string"}}},"OpenSubjectForTiersDto":{"type":"object","properties":{"tier_ids":{"type":"array","items":{"type":"string"}}},"required":["tier_ids"]},"ChangeTaskStatusDto":{"type":"object","properties":{"id":{"type":"string"},"status":{"type":"string","enum":["backlog","todo","in_progress","in_review","done"]}},"required":["id","status"]},"TaskResponseDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"mentor_user_id":{"type":"string"},"summary":{"type":"string"},"markdown_content_id":{"type":"string"},"markdown_content":{"type":"string"},"deadline":{"format":"date-time","type":"string"},"created_at":{"format":"date-time","type":"string"},"priority":{"type":"number"},"status":{"type":"string","enum":["backlog","todo","in_progress","in_review","done"]}},"required":["id","student_user_id","mentor_user_id","summary","markdown_content_id","markdown_content","deadline","created_at","priority","status"]},"CreateTaskForMultipleUsersDto":{"type":"object","properties":{"mentor_user_id":{"type":"string"},"summary":{"type":"string"},"markdown_content":{"type":"string"},"deadline":{"format":"date-time","type":"string"},"priority":{"type":"number"},"status":{"type":"string","enum":["backlog","todo","in_progress","in_review","done"]},"student_user_ids":{"type":"array","items":{"type":"string"}}},"required":["mentor_user_id","summary","markdown_content","deadline","priority","status","student_user_ids"]},"CreateTaskDto":{"type":"object","properties":{"student_user_id":{"type":"string"},"mentor_user_id":{"type":"string"},"summary":{"type":"string"},"markdown_content":{"type":"string"},"deadline":{"format":"date-time","type":"string"},"priority":{"type":"number"},"status":{"type":"string","enum":["backlog","todo","in_progress","in_review","done"]}},"required":["student_user_id","mentor_user_id","summary","markdown_content","deadline","priority","status"]},"DeleteTaskDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"UpdateTaskDto":{"type":"object","properties":{"id":{"type":"string"},"student_user_id":{"type":"string"},"mentor_user_id":{"type":"string"},"summary":{"type":"string"},"markdown_content_id":{"type":"string"},"markdown_content":{"type":"string"},"deadline":{"format":"date-time","type":"string"},"created_at":{"format":"date-time","type":"string"},"priority":{"type":"number"},"status":{"type":"string","enum":["backlog","todo","in_progress","in_review","done"]}}},"CreateSubscriptionTierDto":{"type":"object","properties":{"tier":{"type":"string"},"power":{"type":"number"},"permissions":{"type":"array","items":{"type":"string"}},"price_rubles":{"type":"number"}},"required":["tier","power","permissions","price_rubles"]},"SubscriptionTierResponseDto":{"type":"object","properties":{"id":{"type":"string"},"tier":{"type":"string"},"power":{"type":"number"},"permissions":{"type":"array","items":{"type":"string"}},"price_rubles":{"type":"number"}},"required":["id","tier","power","permissions","price_rubles"]},"DeleteSubscriptionTierDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"GiftSubscriptionDto":{"type":"object","properties":{"userId":{"type":"string","format":"uuid","description":"Идентификатор пользователя, которому выдается подписка"},"subscriptionTierId":{"type":"string","format":"uuid","description":"Идентификатор тарифа подписки"},"durationDays":{"type":"number","description":"Длительность подарка в днях","minimum":1,"maximum":365,"default":30}},"required":["userId","subscriptionTierId","durationDays"]},"SubscriptionResponseDto":{"type":"object","properties":{"id":{"type":"string"},"userId":{"type":"string"},"subscriptionTierId":{"type":"string"},"priceOnPurchaseRubles":{"type":"number"},"isGifted":{"type":"boolean"},"gracePeriodSize":{"type":"number"},"billingPeriodDays":{"type":"number"},"paymentMethodId":{"type":"object","nullable":true},"currentPeriodEnd":{"type":"string","nullable":true},"lastBillingAttempt":{"type":"string","nullable":true},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["id","userId","subscriptionTierId","priceOnPurchaseRubles","isGifted","gracePeriodSize","billingPeriodDays","paymentMethodId","currentPeriodEnd","lastBillingAttempt","createdAt","updatedAt"]},"CreatePaymentFormDto":{"type":"object","properties":{"subscription_tier_id":{"type":"string","format":"uuid","description":"Целевой идентификатор тарифа подписки, для которого нужно создать оплату"}},"required":["subscription_tier_id"]},"PaymentFormResponseDto":{"type":"object","properties":{"payment_id":{"type":"string","description":"Идентификатор платежа в YooKassa"},"status":{"type":"string","description":"Текущий статус платежа"},"paid":{"type":"boolean","description":"Флаг успешной оплаты"},"amount_rubles":{"type":"number","description":"Сумма к оплате в рублях"},"confirmation_url":{"type":"object","description":"Ссылка для подтверждения платежа","nullable":true}},"required":["payment_id","status","paid","amount_rubles","confirmation_url"]},"AskLoginDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address","example":"user@example.com"}},"required":["email"]},"AskLoginResponseDto":{"type":"object","properties":{}},"FinishLoginDto":{"type":"object","properties":{"email":{"type":"string","example":"user@example.com","description":"User email address"},"otpCode":{"type":"number","example":123456,"description":"One-time password code"}},"required":["email","otpCode"]},"FinishRegistrationDto":{"type":"object","properties":{"email":{"type":"string","example":"user@example.com","description":"User email address"},"otpCode":{"type":"number","example":123456,"description":"One-time password code"}},"required":["email","otpCode"]},"SubscriptionTierDto":{"type":"object","properties":{"id":{"type":"string","description":"Subscription tier identifier"},"tier":{"type":"string","description":"Subscription tier name"},"price_rubles":{"type":"number","description":"Subsription tier price"},"power":{"type":"number","description":"Subscription tier power"},"permissions":{"description":"Granted permissions","type":"array","items":{"type":"string"}}},"required":["id","tier","price_rubles","power","permissions"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique user identifier"},"role":{"type":"string","enum":["admin","user","subscriber"],"description":"User role"},"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"telegram_id":{"type":"number","description":"User Telegram ID"},"telegram_username":{"type":"string","description":"User Telegram username"},"subscription_tier_id":{"type":"object","description":"Subscription tier identifier","nullable":true},"finished_registration":{"type":"boolean","description":"Indicates whether user completed registration"},"active_until":{"type":"string","description":"Subscription active until date","format":"date-time","nullable":true},"is_billable":{"type":"boolean","description":"Indicates whether user is billable"},"is_archived":{"type":"boolean","description":"Indicates whether user is archived"},"subscription_tier":{"description":"Subscription tier information","nullable":true,"allOf":[{"$ref":"#/components/schemas/SubscriptionTierDto"}]}},"required":["id","role","name","email","telegram_username"]},"LogoutDto":{"type":"object","properties":{"all":{"type":"boolean","example":true,"description":"Refresh both tokens or access only"},"fallbackRefreshToken":{"type":"string","example":"your_token","description":"Your refresh token if you don't wanna pass it in cookies"}},"required":["all"]},"CreateUserDto":{"type":"object","properties":{"role":{"type":"string","enum":["admin","user","subscriber"],"description":"User role"},"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"telegram_username":{"type":"string","description":"User Telegram username"},"subscription_tier_id":{"type":"object","description":"Subscription tier identifier","nullable":true},"finished_registration":{"type":"boolean","description":"Indicates whether user completed registration"},"is_billable":{"type":"boolean","description":"Indicates whether user is billable"}},"required":["role","name","email","telegram_username"]},"PublicSignupDto":{"type":"object","properties":{"name":{"type":"string","description":"User name"},"email":{"type":"string","description":"User email"},"telegram_username":{"type":"string","description":"User Telegram username"}},"required":["name","email","telegram_username"]},"SendOtpDto":{"type":"object","properties":{"email":{"type":"string","description":"Email для отправки одноразового пароля","example":"user@example.com"}},"required":["email"]},"SendOtpResponseDto":{"type":"object","properties":{"status":{"type":"string","description":"Статус отправки OTP через Telegram","enum":["otp_sent","pending_contact","delivery_failed"]}},"required":["status"]},"UploadedRangeDto":{"type":"object","properties":{"start":{"type":"number","description":"Начало диапазона (в байтах)","example":0},"end":{"type":"number","description":"Конец диапазона (включительно, в байтах)","example":1048575}},"required":["start","end"]},"UploadChecksumDto":{"type":"object","properties":{"algo":{"type":"string","enum":["sha256","md5"],"description":"Алгоритм контрольной суммы"},"value_base64":{"type":"string","description":"Значение контрольной суммы в base64"}},"required":["algo","value_base64"]},"VideoResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"UUID видео"},"user_id":{"type":"string","description":"ID пользователя-владельца"},"filename":{"type":"string","description":"Имя файла (как сохранено)","example":"lecture-001.mp4"},"mime_type":{"type":"object","description":"MIME-тип файла","nullable":true,"example":"video/mp4"},"total_size":{"type":"string","description":"Общий размер файла, байт (строкой)","example":"10737418240"},"chunk_size":{"type":"string","description":"Размер чанка, байт (строкой)","example":"1048576"},"phase":{"type":"string","enum":["receiving","converting","hashing","uploading_s3","completed","failed"],"description":"Текущая фаза загрузки"},"uploaded_ranges":{"description":"Список уже принятых диапазонов (включительно)","example":[{"start":"0","end":"1048575"},{"start":"1048576","end":"2097151"}],"type":"array","items":{"$ref":"#/components/schemas/UploadedRangeDto"}},"upload_offset":{"type":"string","description":"Текущий смещенный байт (offset), от начала файла (строкой)","example":"2097152"},"checksum":{"description":"Контрольная сумма загружаемого файла","nullable":true,"allOf":[{"$ref":"#/components/schemas/UploadChecksumDto"}]},"created_at":{"format":"date-time","type":"string","description":"Когда создано (ISO 8601)","example":"2025-09-28T10:15:30.000Z"}},"required":["id","user_id","filename","total_size","chunk_size","phase","uploaded_ranges","upload_offset","created_at"]}}}}